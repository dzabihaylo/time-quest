---
phase: 10-ui-brand-refresh
plan: 04
type: execute
wave: 3
depends_on: ["10-02", "10-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "The app looks cohesive and intentionally designed in dark mode on the iOS Simulator"
    - "SF Rounded typography is visible throughout all player-facing screens"
    - "Card-based layouts have consistent corner radii, borders/shadows, and surface colors"
    - "Celebration particles match the new color palette"
    - "Light mode fallback renders correctly without visual artifacts"
  artifacts: []
  key_links: []
---

<objective>
Visual verification checkpoint: confirm the full UI/Brand refresh looks correct across all screens in both dark and light mode on the iOS Simulator.

Purpose: A visual refresh cannot be verified by build success alone. Human eyes must confirm that the new design language looks cohesive, cards have proper elevation, typography is consistently rounded, and celebrations feel on-brand.
Output: Visual approval or list of issues to address.
</objective>

<execution_context>
@/Users/davezabihaylo/.claude/get-shit-done/workflows/execute-plan.md
@/Users/davezabihaylo/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/10-ui-brand-refresh/10-RESEARCH.md
@.planning/phases/10-ui-brand-refresh/10-02-SUMMARY.md
@.planning/phases/10-ui-brand-refresh/10-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Run full codebase audit for remaining hardcoded styles</name>
  <files></files>
  <action>
Run a comprehensive grep audit across the entire codebase to find any remaining hardcoded style values that were missed during migration:

```bash
# 1. Hardcoded system colors
grep -rn "Color(.systemGray" TimeQuest/ --include="*.swift" | grep -v "DesignTokens"

# 2. Bare font calls (not through tokens)
grep -rn '\.font(\.\(headline\|title\|body\|caption\|subheadline\|largeTitle\|callout\|footnote\|title2\|title3\|caption2\))' TimeQuest/Features/ TimeQuest/App/RoleRouter.swift --include="*.swift"

# 3. Inline semantic colors in view files
grep -rn '\.foregroundStyle(\.\(teal\|orange\|purple\|green\|blue\|red\))' TimeQuest/Features/ --include="*.swift"
grep -rn 'Color\.\(teal\|orange\|purple\)' TimeQuest/Features/ --include="*.swift" | grep -v "DesignTokens"

# 4. Hardcoded SKColor literals
grep -rn "SKColor(red:" TimeQuest/Game/ --include="*.swift"

# 5. Inconsistent corner radii
grep -rn "cornerRadius:" TimeQuest/Features/ --include="*.swift" | grep -v "tokens\."
```

If ANY matches are found, fix them inline. Only then proceed to the checkpoint.

Also build the project one final time to ensure clean compilation:
```bash
xcodebuild -project TimeQuest/TimeQuest.xcodeproj -scheme TimeQuest -destination 'platform=iOS Simulator,name=iPhone 16' build
```
  </action>
  <verify>
All 5 grep commands return zero matches (after DesignTokens exclusions). Build succeeds.
  </verify>
  <done>
Full codebase audit confirms zero hardcoded style values remain. Build is clean.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Visual verification of UI refresh across all screens</name>
  <files></files>
  <action>
Present the visual verification checklist to the user. Build and launch the app in the iOS Simulator for the user to test. The user will verify the following areas:

1. Dark Mode primary design quality
2. Light Mode fallback correctness
3. SF Rounded typography consistency
4. Card-based layout consistency
5. Celebration animation colors
6. Parent dashboard typography

Build and run in Simulator:
```bash
xcodebuild -project TimeQuest/TimeQuest.xcodeproj -scheme TimeQuest -destination 'platform=iOS Simulator,name=iPhone 16' build
xcrun simctl boot "iPhone 16" 2>/dev/null; open -a Simulator
```
  </action>
  <verify>
User confirms visual quality by typing "approved" or provides specific issues to address.
  </verify>
  <done>
User has visually confirmed the UI/Brand refresh looks cohesive across all screens in both dark and light mode, with consistent SF Rounded typography, card-based layouts, and token-derived celebration colors.
  </done>
</task>

</tasks>

<verification>
1. Full codebase audit shows zero remaining hardcoded styles
2. Human visual verification confirms cohesive dark-first design
3. Light mode fallback renders correctly
4. SF Rounded typography is consistent across all screens
5. Card styling (borders in dark, shadows in light) works correctly
</verification>

<success_criteria>
- User visually confirms the app looks like "something a teen in 2026 would want on her phone"
- Dark mode is the clear primary design -- intentional, not just inverted
- Consistent visual language across all player-facing screens
- No visual regressions from the migration (animations still work, layouts unbroken)
</success_criteria>

<output>
After completion, create `.planning/phases/10-ui-brand-refresh/10-04-SUMMARY.md`
</output>
